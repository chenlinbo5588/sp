<?php

defined('BASEPATH') OR exit('No direct script access allowed');


if ( ! function_exists('mask_mobile'))
{
	/**
	 * Site URL
	 *
	 * Create a local URL based on your basepath. Segments can be passed via the
	 * first parameter either as a string or an array.
	 *
	 * @param	string	$uri
	 * @param	string	$protocol
	 * @return	string
	 */
	function mask_mobile($mobile, $mask = '*')
	{
		$str = $mobile;
		if(preg_match("/^(\+?86)?1[0-9][0-9]{1}[0-9]{8}$|15[0189]{1}[0-9]{8}$|189[0-9]{8}$/",$mobile)){
			$str = substr($mobile,0,-8). $mask.$mask.$mask.$mask.substr($mobile,-4);
		}
		
		return $str;
	}
}
/** 
* È«½Ç×Ö·û×ª»»Îª°ë½Ç 
* 
* @param string $str 
* @return string 
*/ 
function sbc_to_dbc($str) 
{ 
	$arr = array( 
		'£°'=>'0', '£±'=>'1', '£²'=>'2', '£³'=>'3', '£´'=>'4','£µ'=>'5', '£¶'=>'6', '£·'=>'7', '£¸'=>'8', '£¹'=>'9', 
		'£Á'=>'A', '£Â'=>'B', '£Ã'=>'C', '£Ä'=>'D', '£Å'=>'E','£Æ'=>'F', '£Ç'=>'G', '£È'=>'H', '£É'=>'I', '£Ê'=>'J', 
		'£Ë'=>'K', '£Ì'=>'L', '£Í'=>'M', '£Î'=>'N', '£Ï'=>'O','£Ğ'=>'P', '£Ñ'=>'Q', '£Ò'=>'R', '£Ó'=>'S', '£Ô'=>'T', 
		'£Õ'=>'U', '£Ö'=>'V', '£×'=>'W', '£Ø'=>'X', '£Ù'=>'Y','£Ú'=>'Z', '£á'=>'a', '£â'=>'b', '£ã'=>'c', '£ä'=>'d', 
		'£å'=>'e', '£æ'=>'f', '£ç'=>'g', '£è'=>'h', '£é'=>'i','£ê'=>'j', '£ë'=>'k', '£ì'=>'l', '£í'=>'m', '£î'=>'n', 
		'£ï'=>'o', '£ğ'=>'p', '£ñ'=>'q', '£ò'=>'r', '£ó'=>'s', '£ô'=>'t', '£õ'=>'u', '£ö'=>'v', '£÷'=>'w', '£ø'=>'x', 
		'£ù'=>'y', '£ú'=>'z', 
		'£¨'=>'(', '£©'=>')', '¡²'=>'(', '¡³'=>')', '¡¾'=>'[','¡¿'=>']', '¡¼'=>'[', '¡½'=>']', '¡°'=>'"', '¡±'=>'"', 
		'¡®'=>'\'', '\''=>'\'', '£û'=>'{', '£ı'=>'}', '¡¶'=>'<','¡·'=>'>','£¥'=>'%', '£«'=>'+', '¡ª'=>'-', '£­'=>'-', 
		'¡«'=>'~','£º'=>':', '¡£'=>'.', '¡¢'=>',', '£¬'=>',', '¡¢'=>',', '£»'=>';', '£¿'=>'?', '£¡'=>'!', '¡­'=>'-', 
		'¡¬'=>'|', '¡±'=>'"', '\''=>'`', '¡®'=>'`', '£ü'=>'|', '¡¨'=>'"','¡¡'=>' ', '¡Á'=>'*', '£ş'=>'~', '£®'=>'.', '£ª'=>'*', 
		'£¦'=>'&','£¼'=>'<', '£¾'=>'>', '¡ç'=>'$', '£À'=>'@', '£Ş'=>'^', '£ß'=>'_', '£¢'=>'"', '£¤'=>'$', '£½'=>'=', 
		'£Ü'=>'\\', '£¯'=>'/'
	);
	
	return strtr($str, $arr); 
}
